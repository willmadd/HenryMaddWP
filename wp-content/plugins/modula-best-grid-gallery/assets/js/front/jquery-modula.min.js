function tg_getURLParameter(t){return decodeURIComponent((new RegExp("[?|&]"+t+"=([^&;]+?)(&|#|;|$)").exec(location.search)||[,""])[1].replace(/\+/g,"%20"))||null}function modulaInViewport(t){"function"==typeof jQuery&&t instanceof jQuery&&(t=t[0]);var i=t.getBoundingClientRect();return i.top-jQuery(window).height()<=-100&&-400<=i.top-jQuery(window).height()||i.bottom<=jQuery(window).height()}jQuery(document).on("vc-full-width-row-single vc-full-width-row",function(t,i){0<jQuery("body").find(".modula").length&&jQuery(window).trigger("modula-update")}),jQuery(window).on("elementor/frontend/init",function(){window.elementorFrontend&&window.elementorFrontend.hooks.addAction("frontend/element_ready/global",function(t){0<jQuery("body").find(".modula").length&&jQuery(window).trigger("modula-update")})}),function(c,r,p,t){var n="modulaGallery",e={resizer:"/",keepArea:!0,type:"creative-gallery",columns:12,gutter:10,enableTwitter:!1,enableFacebook:!1,enableWhatsapp:!1,enablePinterest:!1,enableLinkedin:!1,enableEmail:!1,lazyLoad:0,initLightbox:!1,lightbox:"fancybox",lightboxOpts:{},inView:!1};function s(t,i){this.element=t,this.$element=c(t),this.$itemsCnt=this.$element.find(".modula-items"),this.$items=this.$itemsCnt.find(".modula-item"),this.options=c.extend({},e,i),this._defaults=e,this._name=n,this.tiles=[],this.$tilesCnt=null,this.completed=!1,this.lastWidth=0,this.resizeTO=0,this.isIsotope=!1,this.isLazyLoaded=!0,this.init()}s.prototype.init=function(){var n=this;c(p).trigger("modula_api_before_init",[n]),"custom-grid"===this.options.type?this.createCustomGallery():"creative-gallery"==this.options.type?this.createGrid():"grid"==this.options.type&&("automatic"==this.options.grid_type?this.createAutoGrid():this.createColumnsGrid()),c(r).resize(function(){n.onResize(n)}),c(r).on("modula-update",function(){n.onResize(n)}),c(p).on("lazyloaded",function(t){var i,e,o=c(t.target);"modula"==o.data("source")&&(o.data("size",{width:o.width(),height:o.height()}),(i=o.parents(".modula-item")).addClass("tg-loaded"),e=n.$items.not(".jtg-hidden").index(i),n.placeImage(e),n.isIsotope&&n.$itemsCnt.modulaisotope("layout"))}),n.options.inView&&jQuery(r).on("DOMContentLoaded load resize scroll",function(){modulaInViewport(n.$element)&&n.$element.addClass("modula-loaded-scale")}),this.setupSocial(),this.options.onComplete&&this.options.onComplete(),"fancybox"!=n.options.lightbox||n.options.initLightbox||this.initLightbox(),c(p).trigger("modula_api_after_init",[n])},s.prototype.initLightbox=function(){var o=this;o.$element.on("click",".modula-item-link:not( .modula-simple-link )",function(t){t.preventDefault();var i=c.map(o.$items,function(t){var i=jQuery(t).find(".modula-item-link:not( .modula-simple-link )"),e=jQuery(t).find(".pic");return{src:i.attr("href"),opts:{caption:i.data("caption"),alt:e.attr("alt"),image_id:i.attr("data-image-id")}}}),e=o.$items.index(jQuery(this).parents(".modula-item"));jQuery.modulaFancybox.open(i,o.options.lightboxOpts,e)})},s.prototype.trunc=function(t){return Math.trunc?Math.trunc(t):(t=+t,isFinite(t)?t-t%1||(t<0?-0:0===t?t:0):t)},s.prototype.createCustomGallery=function(){var h,r=this,t=this.$element.find(".modula-items").width(),d=this,l=this.options.columns,i=p.documentElement.clientWidth;"1"==this.options.enableResponsive&&(i<=568?l=this.options.mobileColumns:i<=768&&(l=this.options.tabletColumns)),h=0<this.options.gutter?(t-this.options.gutter*(l-1))/l:Math.floor(t/l*1e3)/1e3,this.$items.not(".jtg-hidden").each(function(t,i){var e,o,n={},s=c(i).data("width"),a=c(i).data("height");12<s&&(s=12),"1"==d.options.enableResponsive&&(e=s,o=a,1==l?a=(s=1)*o/e:((s=Math.round(l*e/12))<1&&(s=1),(a=Math.round(s*o/e))<1&&(a=1))),n.width=h*s+d.options.gutter*(s-1),n.height=Math.round(h)*a+d.options.gutter*(a-1),c(i).data("size",n).addClass("tiled").addClass(n.width>n.height?"tile-h":"tile-v").data("position"),c(i).css(c(i).data("size")),c(i).find(".figc").css({width:c(i).data("size").width,height:c(i).data("size").height}),r.loadImage(t)});var e={itemSelector:".modula-item",layoutMode:"packery",packery:{gutter:parseInt(d.options.gutter)}};this.$itemsCnt.modulaisotope(e),this.isIsotope=!0},s.prototype.createGrid=function(){var o=this;this.$itemsCnt.data("area",this.$itemsCnt.width()*this.options.height),this.lastWidth=this.$itemsCnt.width();for(var t,i=0;i<this.$items.not(".jtg-hidden").length;i++)this.tiles.push(o.getSlot());this.tiles.sort(function(t,i){return t.position-i.position}),this.$items.not(".jtg-hidden").each(function(t,i){var e=o.tiles[t];c(i).data("size",e),c(i).addClass("tiled").addClass(e.width>e.height?"tile-h":"tile-v").data("position"),c(i).css({width:e.width,height:e.height}),c(i).find(".figc").css({width:e.width,height:e.height}),o.loadImage(t)}),this.isIsotope||(t={resizesContainer:!1,itemSelector:".modula-item",layoutMode:"packery",packery:{gutter:parseInt(o.options.gutter)}},this.$itemsCnt.modulaisotope(t),this.isIsotope=!0)},s.prototype.createAutoGrid=function(){this.$itemsCnt.justifiedGallery({rowHeight:this.options.rowHeight,margins:this.options.gutter,lastRow:this.options.lastRow,captions:!1,border:0,imgSelector:".pic",cssAnimation:!0,imagesAnimationDuration:700})},s.prototype.createColumnsGrid=function(){var e=this;this.$itemsCnt.modulaisotope({itemSelector:".modula-item",layoutMode:"packery",packery:{gutter:parseInt(this.options.gutter)}}),this.$items.each(function(t,i){e.loadImage(t)}),this.isIsotope=!0},s.prototype.getSlot=function(){if(0==this.tiles.length)return o={top:0,left:0,width:this.$itemsCnt.width(),height:this.options.height,area:this.$itemsCnt.width()*this.options.height,position:0};for(var t=0,i=0;i<this.tiles.length;i++){(o=this.tiles[i]).area>this.tiles[t].area&&(t=i)}var e,o={},n=this.tiles[t];return(o=n.width>n.height?(e=n.width/2*this.options.randomFactor,n.prevWidth=n.width,n.width=Math.floor(n.width/2+e*(Math.random()-.5)),{top:n.top,left:n.left+n.width+this.options.gutter,width:n.prevWidth-n.width-this.options.gutter,height:n.height}):(e=n.height/2*this.options.randomFactor,n.prevHeight=n.height,n.height=Math.floor(n.height/2+e*(Math.random()-.5)),{left:n.left,top:n.top+n.height+this.options.gutter,width:n.width,height:n.prevHeight-n.height-this.options.gutter})).area=o.width*o.height,o.position=1e3*o.top+o.left,n.position=1e3*n.top+n.left,this.tiles[t]=n,this.tiles[t].area=n.width*n.height,o},s.prototype.reset=function(){this.tiles=[],"custom-grid"===this.options.type?this.createCustomGallery():"creative-gallery"==this.options.type?this.createGrid():"grid"==this.options.type&&("automatic"==this.options.grid_type?this.createAutoGrid():this.createColumnsGrid()),this.lastWidth=this.$itemsCnt.width(),c(p).trigger("modula_api_reset",[this])},s.prototype.onResize=function(i){i.lastWidth!=i.$itemsCnt.width()&&(clearTimeout(i.resizeTO),i.resizeTO=setTimeout(function(){var t;i.options.keepArea&&(t=i.$itemsCnt.data("area"),i.$itemsCnt.height(t/i.$itemsCnt.width())),i.reset(),i.isIsotope&&i.$itemsCnt.modulaisotope("layout")},100))},s.prototype.loadImage=function(t){var i,e=this,o=e.$items.not(".jtg-hidden").eq(t).find(".pic"),n={};"0"==e.options.lazyLoad&&(void 0===o.attr("width")&&void 0===o.attr("height")?((i=new Image).onload=function(){n={width:this.width,height:this.height},o.data("size",n),e.placeImage(t)},"undefined"!=o.attr("src")?i.src=o.attr("src"):i.src=o.data("src")):(n={width:o.width(),height:o.height()},o.data("size",n),e.placeImage(t)))},s.prototype.placeImage=function(t){if("grid"!=this.options.type){var i=this.$items.not(".jtg-hidden").eq(t),e=i.find(".pic"),o=i.data("size"),n=e.data("size");if(void 0!==o&&void 0!==n){o.width,o.height;var s=n.width/n.height,a=e.data("valign")?e.data("valign"):"middle",h=e.data("halign")?e.data("halign"):"center",r={top:"auto",bottom:"auto",left:"auto",right:"auto",width:"auto",height:"auto",margin:"0",maxWidth:"999em"};if(o.width*n.height/n.width>o.height)switch(r.width=o.width,r.left=0,a){case"top":r.top=0;break;case"middle":r.top=0-(o.width*(1/s)-o.height)/2;break;case"bottom":r.bottom=0}else switch(r.height=o.height,r.top=0,h){case"left":r.left=0;break;case"center":r.left=0-(o.height*s-o.width)/2;break;case"right":r.right=0}e.css(r),this.$items.not(".jtg-hidden").eq(t).addClass("tg-loaded")}}},s.prototype.setupSocial=function(){this.options.enableTwitter&&i(this.$items,this),this.options.enableFacebook&&o(this.$items,this),this.options.enablePinterest&&h(this.$items,this),this.options.enableLinkedin&&d(this.$items,this),this.options.enableWhatsapp&&a(this.$items,this),this.options.enableEmail&&l(this.$items,this)},s.prototype.destroy=function(){this.isPackeryActive&&(this.$itemsCnt.packery("destroy"),this.isPackeryActive=!1)};var i=function(t,i){t.find(".modula-icon-twitter").click(function(t){t.preventDefault();var i=c(this).parents(".modula-item").find("img.pic").data("caption"),e=p.title;return 0<i.length&&(e=c.trim(i)),r.open("https://twitter.com/intent/tweet?url="+encodeURI(location.href.split("#")[0])+"&text="+encodeURI(e),"ftgw","location=1,status=1,scrollbars=1,width=600,height=400").moveTo(screen.width/2-300,screen.height/2-200),!1})},o=function(t,i){t.find(".modula-icon-facebook").click(function(t){t.preventDefault();var i=c(this).parents(".modula-item").find(".pic"),e=i.data("caption");p.title;0<e.length&&c.trim(e);i.attr("src");var o="//www.facebook.com/sharer.php?u="+location.href;return r.open(o,"ftgw","location=1,status=1,scrollbars=1,width=600,height=400").moveTo(screen.width/2-300,screen.height/2-200),!1})},a=function(t,i){t.find(".modula-icon-whatsapp").click(function(t){t.preventDefault();var i=c(this).parents(".modula-item").find("img.pic").data("caption");p.title;return 0<i.length&&c.trim(i),r.open("https://api.whatsapp.com/send?text="+encodeURI(r.location.href.split("#")[0])+"&preview_url=true","ftgw","location=1,status=1,scrollbars=1,width=600,height=400").moveTo(screen.width/2-300,screen.height/2-200),!1})},h=function(t,i){t.find(".modula-icon-pinterest").click(function(t){t.preventDefault();var i=c(this).parents(".modula-item").find(".pic"),e=i.data("caption"),o=p.title;0<e.length&&(o=c.trim(e));var n,s,a,h="http://pinterest.com/pin/create/button/?url="+encodeURI(location.href)+"&description="+encodeURI(o);return 1==i.length&&(n=i.attr("src"),h+="&media="+(s=n,(a=p.createElement("img")).src=s,s=a.src,a.src=null,s)),r.open(h,"ftgw","location=1,status=1,scrollbars=1,width=600,height=400").moveTo(screen.width/2-300,screen.height/2-200),!1})},d=function(t,i){t.find(".modula-icon-linkedin").click(function(t){t.preventDefault();var i="//linkedin.com/shareArticle?mini=true&url="+ +encodeURI(location.href);return r.open(i,"ftgw","location=1,status=1,scrollbars=1,width=600,height=400").moveTo(screen.width/2-300,screen.height/2-200),!1})},l=function(t,s){t.find(".modula-icon-email").click(function(t){var i=encodeURI(s.options.email_subject),e=jQuery(".modula-icon-email").parents(".modula-item").find("img.pic").attr("data-full"),o=location.href,n="mailto:?subject="+i+"&body="+encodeURI(s.options.email_message.replace(/%%image_link%%/g,e).replace(/%%gallery_link%%/g,o));return r.open(n,"ftgw","location=1,status=1,scrollbars=1,width=600,height=400").moveTo(screen.width/2-300,screen.height/2-200),!1})};c.fn[n]=function(i){var e,o=arguments;return i===t||"object"==typeof i?this.each(function(){c.data(this,"plugin_"+n)||c.data(this,"plugin_"+n,new s(this,i))}):"string"==typeof i&&"_"!==i[0]&&"init"!==i?(this.each(function(){var t=c.data(this,"plugin_"+n);t instanceof s&&"function"==typeof t[i]&&(e=t[i].apply(t,Array.prototype.slice.call(o,1))),"destroy"===i&&c.data(this,"plugin_"+n,null)}),e!==t?e:this):void 0}}(jQuery,window,document),jQuery(document).ready(function(){var t=jQuery(".modula.modula-gallery");jQuery.each(t,function(){var t=jQuery(this).attr("id"),i=jQuery(this).data("config");jQuery("#"+t).modulaGallery(i)})});